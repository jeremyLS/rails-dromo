// 1. On chope le lien grâce à son data-step-id
// 2. On remplace le lien de création par le lien de destruction:
//   - method: post -> delete
//   - url: /steps/:step_id/favorites -> /favorites/:id
//   - icon: coeur vide -> plein

var favoriteCreationLinks = document.querySelectorAll("[data-step-id='<%= @step.id %>']");

favoriteCreationLinks.forEach((link) => {
  link.setAttribute('data-method', 'delete');
  link.setAttribute('href', '<%= favorite_path(@favorite) %>');

  const iconTag = link.getElementsByTagName('i')[0];

  iconTag.classList = "";
  iconTag.classList.add("fas");
  iconTag.classList.add("fa-heart");
  iconTag.classList.add("heart");
});

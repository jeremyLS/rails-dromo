// 1. On chope le lien grâce à son data-step-id
// 2. On remplace le lien de destroy par le lien de create:
//   - method: delete -> post
//   - url: /favorites/:id -> /steps/:step_id/favorites
//   - icon: coeur plein -> vide

var favoriteDestroyLinks = document.querySelectorAll("[data-step-id='<%= @step.id %>']");

favoriteDestroyLinks.forEach((link) => {
  link.setAttribute('data-method', 'post');
  link.setAttribute('href', '<%= step_favorites_path(@step) %>');

  const iconTag = link.getElementsByTagName('i')[0];

  iconTag.classList = "";
  iconTag.classList.add("far");
  iconTag.classList.add("fa-heart");
  iconTag.classList.add("heart");
});
